<div class="agentSettingsWrapper">
  <div class="imageWrapper section info">
    <div class="image">
      <img [src]="agentImage" alt="" class="agentImage" />
      <div class="removeImage" (click)="removeImage()" *ngIf="showImageRemove">
        x
      </div>
      <div class="status-circle" (click)="openImageUploadButton()">
        <svg class="uploadcamera" width="18" height="16" viewBox="0 0 18 16" fill="none"
          xmlns="http://www.w3.org/2000/svg">
          <path
            d="M11.7645 0.795434C12.2509 0.989022 12.5948 1.33796 12.9031 1.84951L13.0047 2.02607L13.3815 2.74869L13.3939 2.76887L13.4052 2.78643L13.4372 2.83019C13.6089 3.01727 13.8963 3.1303 14.0859 3.1303C15.8232 3.1303 17.2422 4.49468 17.3292 6.20991L17.3334 6.37696V11.2061C17.3334 13.4328 15.5749 15.2499 13.3714 15.344L13.1917 15.3478H4.80841C2.5812 15.3478 0.76464 13.5896 0.670574 11.3858L0.666748 11.2061V6.37696C0.666748 4.58412 2.1209 3.1303 3.91425 3.1303C4.10323 3.1303 4.39098 3.01711 4.56295 2.83019L4.56887 2.8232L4.57629 2.81349L4.61914 2.74776L4.99493 2.0263C5.32989 1.41753 5.69428 1.01057 6.23498 0.795356C7.22582 0.401372 10.7745 0.401372 11.7645 0.795434ZM6.69704 1.95682C6.51255 2.03025 6.34552 2.20022 6.16726 2.49488L6.0901 2.62888L5.76938 3.24896L5.69044 3.39182C5.62455 3.50143 5.55863 3.59395 5.48337 3.67596C5.09969 4.093 4.5488 4.33388 4.0591 4.37423L3.91425 4.3803L3.7775 4.3849C2.78339 4.45212 1.98859 5.24674 1.92136 6.24029L1.91675 6.37696V11.2061C1.91675 12.7497 3.12653 14.0111 4.64976 14.0935L4.80841 14.0978H13.1917C14.735 14.0978 15.9967 12.8875 16.0791 11.3647L16.0834 11.2061V6.37696C16.0834 5.32048 15.262 4.45518 14.2227 4.3849L14.0859 4.3803L13.9408 4.37423C13.4504 4.33387 12.8995 4.09293 12.5163 3.6754C12.442 3.59448 12.3765 3.50262 12.311 3.39394L12.2952 3.367L12.2765 3.33353L12.1797 3.15208L11.9098 2.62911C11.7275 2.29819 11.5606 2.09594 11.3804 1.9943L11.3023 1.95682L11.2028 1.92377C10.3452 1.68136 7.36209 1.69238 6.69704 1.95682ZM8.99983 5.66588C10.8083 5.66588 12.274 7.13154 12.274 8.94005C12.274 10.7486 10.8083 12.2142 8.99983 12.2142C7.19132 12.2142 5.72566 10.7486 5.72566 8.94005C5.72566 7.13154 7.19132 5.66588 8.99983 5.66588ZM8.99983 6.91588C7.88168 6.91588 6.97566 7.82189 6.97566 8.94005C6.97566 10.0582 7.88168 10.9642 8.99983 10.9642C10.118 10.9642 11.024 10.0582 11.024 8.94005C11.024 7.82189 10.118 6.91588 8.99983 6.91588ZM13.587 5.08338C14.0472 5.08338 14.4203 5.45647 14.4203 5.91671C14.4203 6.34408 14.0986 6.6963 13.6842 6.74444L13.587 6.75005C13.1193 6.75005 12.7462 6.37695 12.7462 5.91671C12.7462 5.48935 13.0679 5.13712 13.4823 5.08898L13.587 5.08338Z"
            fill="#162741" />
        </svg>
      </div>
    </div>
    <div class="agentsData">
      <div class="fullName">{{ this.selectedAgent?.display_name }}</div>
      <div class="email">{{ this.selectedAgent?.email }}</div>
    </div>

    <div class="agentActionButtonWrapper">
      <gigaaa-button class="buttonOperations" *ngIf="this.showDeleteAgentButton"
        (buttonOutput)="onGetDeleteButtonOutput($event)" [buttonData]="deleteAgentButtonData">
      </gigaaa-button>
      <gigaaa-button class="buttonOperations" *ngIf="showResendAndCancelButton"
        (buttonOutput)="onGetResendInvitation($event)" [buttonData]="resendInvitationData">
      </gigaaa-button>
      <gigaaa-button class="buttonOperations" *ngIf="showResendAndCancelButton"
        (buttonOutput)="onGetCancelButtonOutput($event)" [buttonData]="cancelInvitationData">
      </gigaaa-button>
    </div>
  </div>
  <div form="agentSettingsForm" [formGroup]="agentSettingsForm">
    <div class="profileWrapper section">
      <div class="profileName">Profile</div>
      <div class="firstLastName">
        <div class="inputWrapper textField">
          <div class="label">First name</div>
          <input class="agentSettingsTextField" type="text" formControlName="first_name" />
        </div>
        <div class="inputWrapper textField">
          <div class="label">Last name</div>
          <input class="agentSettingsTextField" type="text" formControlName="last_name" />
        </div>
      </div>
      <div class="agentName">
        <div class="label">Agent name</div>
        <input class="agentSettingsTextField" type="text" formControlName="display_name" />
      </div>
    </div>

    <div class="languageWrapper section">
      <div class="restrictedAdmin language" *ngIf="pendingStatusForLanguages !== ''">
        <div class="messageForAdminRights">
          {{ this.pendingStatusForLanguages }}
        </div>
      </div>
      <div class="profileName">
        Language
        <div class="inputWrapper textField">
          <div class="label">Select language(s) for this agent:</div>
          <app-multi-select-dropdown [multiSelectData]="languauges" (multiSelectOutput)="languaugesOutput($event)"
            [isDropdownEnabled]="isDropdownEnabled">
          </app-multi-select-dropdown>
        </div>

        <div class="SelectAllLanguage" *ngIf="showAllSelectedLanguageToggle">
          <div class="label">Show request data for all available languages</div>
          <div class="toggleForAllLanguage">
            <gigaaa-switch-button [switchButtonData]="allLanguageData"
              (switchButtonValue)="onGetSwitchAllLanguage($event)">
            </gigaaa-switch-button>
          </div>
        </div>
      </div>
    </div>
    <div class="administrativeRightsWrapper section" *ngIf="showAdminRightSection">
      <div class="restrictedAdmin" *ngIf="
          adminAletMessage !== '' || this.pendingStatusForAdminRights !== ''
        ">
        <div class="messageForAdminRights">
          {{ this.adminAletMessage || this.pendingStatusForAdminRights }}
        </div>
      </div>
      <div class="profileName adminRight">
        Administrative Rights
        <div class="inputWrapper switchWrapper">
          <div class="label">
            Admins can add new agents and change settings.
          </div>
          <gigaaa-switch-button [switchButtonData]="switchButtonData"
            (switchButtonValue)="onGetSwitchButtonValue($event)" [isButtonDisabled]="isButtonDisabled">
          </gigaaa-switch-button>
        </div>
      </div>
    </div>
    <!-- <div class="passwordWrapper section" *ngIf="showPasswordSection">
      <div class="profileName">
        Password
        <div class="inputWrapper">
          <div class="label">Set password</div>
          <input
            class="agentSettingsTextField"
            type="password"
            placeholder="******"
          />
          <div (click)="onGetPasswordButtonOutput()" class="openPasswordDialog">
            Change
          </div>
        </div>
      </div>
    </div> -->
  </div>
  <div class="buttonsWrapper section btn">
    <gigaaa-button (buttonOutput)="onGetBackButtonOutput($event)" [buttonData]="backButtonData"></gigaaa-button>
    <gigaaa-button (buttonOutput)="onGetSaveButtonOutput($event)" [buttonData]="saveButtonData"></gigaaa-button>
  </div>
</div>

<!-- delete modals -->
<app-modal-wrapper [modalData]="agentDefaultModalData" (closeModal)="onCloseDeleteModal({$event})"
  *ngIf="showDeleteAgentModal" (submitButtonOutput)="onGetSubmitButtonDeleteOutput($event)">
  <app-delete-agent [agentData]="this.selectedAgent"></app-delete-agent>
</app-modal-wrapper>

<!-- update password modals -->
<app-modal-wrapper [modalData]="passwordModalData" (closeModal)="onCloseUpdatePasswordModal($event)"
  *ngIf="showPasswordModal" (submitButtonOutput)="onGetSubmitButtonPasswordOutput($event)">
  <app-update-password></app-update-password>
</app-modal-wrapper>

<!-- upload images modals -->

<app-modal-wrapper [modalData]="agentUploadModalData" *ngIf="showImageUploadModal"
  (submitButtonOutput)="onGetSubmitImageUploadOutput($event)" (closeModal)="onCloseImageUploadbutton($event)">
  <app-upload-image></app-upload-image>
</app-modal-wrapper>